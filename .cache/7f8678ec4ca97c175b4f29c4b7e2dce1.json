{"id":"qy83","dependencies":[{"name":"/Users/angelawang/Documents/GitHub/storytelling-homework-10-mapping/package.json","includedInParent":true,"mtime":1539551530075},{"name":"d3","loc":{"line":1,"column":20},"parent":"/Users/angelawang/Documents/GitHub/storytelling-homework-10-mapping/src/06-map.js","resolved":"/Users/angelawang/Documents/GitHub/storytelling-homework-10-mapping/node_modules/d3/index.js"},{"name":"topojson","loc":{"line":2,"column":26},"parent":"/Users/angelawang/Documents/GitHub/storytelling-homework-10-mapping/src/06-map.js","resolved":"/Users/angelawang/Documents/GitHub/storytelling-homework-10-mapping/node_modules/topojson/index.js"},{"name":"./data/us_states.topojson","loc":{"line":20,"column":18},"parent":"/Users/angelawang/Documents/GitHub/storytelling-homework-10-mapping/src/06-map.js","resolved":"/Users/angelawang/Documents/GitHub/storytelling-homework-10-mapping/src/data/us_states.topojson"},{"name":"./data/powerplants.csv","loc":{"line":21,"column":17},"parent":"/Users/angelawang/Documents/GitHub/storytelling-homework-10-mapping/src/06-map.js","resolved":"/Users/angelawang/Documents/GitHub/storytelling-homework-10-mapping/src/data/powerplants.csv"}],"generated":{"js":"\"use strict\";var t=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],a=!0,n=!1,o=void 0;try{for(var l,i=t[Symbol.iterator]();!(a=(l=i.next()).done)&&(r.push(l.value),!e||r.length!==e);a=!0);}catch(t){n=!0,o=t}finally{try{!a&&i.return&&i.return()}finally{if(n)throw o}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),e=require(\"d3\"),r=o(e),a=require(\"topojson\"),n=o(a);function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var l={top:0,left:0,right:0,bottom:0},i=300-l.top-l.bottom,s=330-l.left-l.right,c=r.select(\"#chart-6\"),u=r.geoAlbersUsa(),p=r.geoPath().projection(u),f=r.scaleOrdinal(r.schemeDark2),d=r.scaleSqrt().range([0,15]);function h(e){var a=t(e,2),o=a[0],h=a[1];console.log(o.objects);var v=n.feature(o,o.objects.us_states);u.fitSize([s,i],v);var m=h.map(function(t){return+t.Total_MW}),y=r.max(m),g=r.min(m);d.domain([g,y]);var b=r.nest().key(function(t){return t.PrimSource}).entries(h);console.log(\"nested\",b),c.selectAll(\".usMap\").data(b).enter().append(\"svg\").attr(\"class\",\"usMap\").attr(\"height\",i+l.top+l.bottom).attr(\"width\",s+l.left+l.right).each(function(t){var e=r.select(this);e.selectAll(\".state\").data(v.features).enter().append(\"path\").attr(\"class\",\"state\").attr(\"d\",p).attr(\"fill\",\"lightgrey\"),e.selectAll(\".powerplant\").data(t.values).enter().append(\"circle\").attr(\"class\",\"powerplant\").attr(\"r\",function(t){return d(t.Total_MW)}).attr(\"transform\",function(t){return\"translate(\"+u([t.Longitude,t.Latitude])+\")\"}).attr(\"fill\",function(t){return f(t.PrimSource)}).attr(\"opacity\",.3),e.append(\"text\").datum(t.key).text(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}).attr(\"x\",s/2).attr(\"y\",i/2).attr(\"text-anchor\",\"middle\")})}Promise.all([r.json(require(\"./data/us_states.topojson\")),r.csv(require(\"./data/powerplants.csv\"))]).then(h).catch(function(t){return console.log(\"Failed on\",t)});","map":{"mappings":[{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":0}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":13}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":17}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":19}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":30}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":37}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":46}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":48}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":51}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":54}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":60}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":68}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":71}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":78}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":80}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":83}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":90}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":102}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":109}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":112}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":119}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":128}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":130}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":133}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":137}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":139}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":142}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":145}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":147}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":150}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":152}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":159}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":161}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":165}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":169}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":173}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":175}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":177}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":179}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":186}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":200}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":203}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":205}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":207}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":215}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":223}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":225}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":230}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":232}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":240}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":243}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":245}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":254}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":257}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":260}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":264}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":270}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":273}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":276}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":278}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":280}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":282}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":290}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":295}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":298}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":300}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":308}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":310}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":319}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":327}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":330}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":332}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":338}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":341}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":348}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":350}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":351}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":353}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":356}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":362}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":366}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":376}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":433}},{"source":"06-map.js","original":{"line":1,"column":0},"generated":{"line":1,"column":436}},{"source":"06-map.js","original":{"line":1,"column":0},"generated":{"line":1,"column":438}},{"source":"06-map.js","original":{"line":1,"column":0},"generated":{"line":1,"column":446}},{"source":"06-map.js","name":"d3","original":{"line":1,"column":12},"generated":{"line":1,"column":452}},{"source":"06-map.js","name":"d3","original":{"line":1,"column":12},"generated":{"line":1,"column":454}},{"source":"06-map.js","name":"d3","original":{"line":1,"column":12},"generated":{"line":1,"column":456}},{"source":"06-map.js","original":{"line":2,"column":0},"generated":{"line":1,"column":459}},{"source":"06-map.js","original":{"line":2,"column":0},"generated":{"line":1,"column":461}},{"source":"06-map.js","original":{"line":2,"column":0},"generated":{"line":1,"column":469}},{"source":"06-map.js","name":"topojson","original":{"line":2,"column":12},"generated":{"line":1,"column":481}},{"source":"06-map.js","name":"topojson","original":{"line":2,"column":12},"generated":{"line":1,"column":483}},{"source":"06-map.js","name":"topojson","original":{"line":2,"column":12},"generated":{"line":1,"column":485}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":488}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":497}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":499}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":502}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":505}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":508}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":510}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":521}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":528}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":530}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":534}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":536}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":539}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":542}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":548}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":550}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":554}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":558}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":563}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":565}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":572}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":582}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":597}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":602}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":604}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":609}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":611}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":614}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":616}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":620}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":627}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":629}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":637}},{"source":"06-map.js","original":{"line":95,"column":1},"generated":{"line":1,"column":639}},{"source":"06-map.js","original":{"line":4,"column":0},"generated":{"line":1,"column":641}},{"source":"06-map.js","name":"margin","original":{"line":4,"column":4},"generated":{"line":1,"column":645}},{"source":"06-map.js","original":{"line":4,"column":13},"generated":{"line":1,"column":647}},{"source":"06-map.js","name":"top","original":{"line":4,"column":15},"generated":{"line":1,"column":648}},{"source":"06-map.js","original":{"line":4,"column":20},"generated":{"line":1,"column":652}},{"source":"06-map.js","name":"left","original":{"line":4,"column":23},"generated":{"line":1,"column":654}},{"source":"06-map.js","original":{"line":4,"column":29},"generated":{"line":1,"column":659}},{"source":"06-map.js","name":"right","original":{"line":4,"column":32},"generated":{"line":1,"column":661}},{"source":"06-map.js","original":{"line":4,"column":39},"generated":{"line":1,"column":667}},{"source":"06-map.js","name":"bottom","original":{"line":4,"column":42},"generated":{"line":1,"column":669}},{"source":"06-map.js","original":{"line":4,"column":50},"generated":{"line":1,"column":676}},{"source":"06-map.js","name":"height","original":{"line":6,"column":4},"generated":{"line":1,"column":679}},{"source":"06-map.js","original":{"line":6,"column":13},"generated":{"line":1,"column":681}},{"source":"06-map.js","name":"margin","original":{"line":6,"column":19},"generated":{"line":1,"column":685}},{"source":"06-map.js","name":"top","original":{"line":6,"column":26},"generated":{"line":1,"column":687}},{"source":"06-map.js","name":"margin","original":{"line":6,"column":32},"generated":{"line":1,"column":691}},{"source":"06-map.js","name":"bottom","original":{"line":6,"column":39},"generated":{"line":1,"column":693}},{"source":"06-map.js","name":"width","original":{"line":7,"column":4},"generated":{"line":1,"column":700}},{"source":"06-map.js","original":{"line":7,"column":12},"generated":{"line":1,"column":702}},{"source":"06-map.js","name":"margin","original":{"line":7,"column":18},"generated":{"line":1,"column":706}},{"source":"06-map.js","name":"left","original":{"line":7,"column":25},"generated":{"line":1,"column":708}},{"source":"06-map.js","name":"margin","original":{"line":7,"column":32},"generated":{"line":1,"column":713}},{"source":"06-map.js","name":"right","original":{"line":7,"column":39},"generated":{"line":1,"column":715}},{"source":"06-map.js","name":"container","original":{"line":9,"column":4},"generated":{"line":1,"column":721}},{"source":"06-map.js","name":"d3","original":{"line":9,"column":16},"generated":{"line":1,"column":723}},{"source":"06-map.js","name":"select","original":{"line":9,"column":19},"generated":{"line":1,"column":725}},{"source":"06-map.js","original":{"line":9,"column":26},"generated":{"line":1,"column":732}},{"source":"06-map.js","name":"projection","original":{"line":11,"column":4},"generated":{"line":1,"column":744}},{"source":"06-map.js","name":"d3","original":{"line":11,"column":17},"generated":{"line":1,"column":746}},{"source":"06-map.js","name":"geoAlbersUsa","original":{"line":11,"column":20},"generated":{"line":1,"column":748}},{"source":"06-map.js","name":"path","original":{"line":13,"column":4},"generated":{"line":1,"column":763}},{"source":"06-map.js","name":"d3","original":{"line":13,"column":11},"generated":{"line":1,"column":765}},{"source":"06-map.js","name":"geoPath","original":{"line":13,"column":14},"generated":{"line":1,"column":767}},{"source":"06-map.js","name":"projection","original":{"line":13,"column":24},"generated":{"line":1,"column":777}},{"source":"06-map.js","name":"projection","original":{"line":13,"column":35},"generated":{"line":1,"column":788}},{"source":"06-map.js","name":"colorScale","original":{"line":15,"column":4},"generated":{"line":1,"column":791}},{"source":"06-map.js","name":"d3","original":{"line":15,"column":17},"generated":{"line":1,"column":793}},{"source":"06-map.js","name":"scaleOrdinal","original":{"line":15,"column":20},"generated":{"line":1,"column":795}},{"source":"06-map.js","name":"d3","original":{"line":15,"column":33},"generated":{"line":1,"column":808}},{"source":"06-map.js","name":"schemeDark2","original":{"line":15,"column":36},"generated":{"line":1,"column":810}},{"source":"06-map.js","name":"radiusScale","original":{"line":17,"column":4},"generated":{"line":1,"column":823}},{"source":"06-map.js","name":"d3","original":{"line":17,"column":18},"generated":{"line":1,"column":825}},{"source":"06-map.js","name":"scaleSqrt","original":{"line":17,"column":21},"generated":{"line":1,"column":827}},{"source":"06-map.js","name":"range","original":{"line":17,"column":33},"generated":{"line":1,"column":839}},{"source":"06-map.js","original":{"line":17,"column":39},"generated":{"line":1,"column":845}},{"source":"06-map.js","original":{"line":17,"column":40},"generated":{"line":1,"column":846}},{"source":"06-map.js","original":{"line":17,"column":43},"generated":{"line":1,"column":848}},{"source":"06-map.js","original":{"line":26,"column":0},"generated":{"line":1,"column":853}},{"source":"06-map.js","name":"ready","original":{"line":26,"column":9},"generated":{"line":1,"column":862}},{"source":"06-map.js","original":{"line":26,"column":35},"generated":{"line":1,"column":864}},{"source":"06-map.js","original":{"line":26,"column":35},"generated":{"line":1,"column":867}},{"source":"06-map.js","original":{"line":26,"column":35},"generated":{"line":1,"column":871}},{"source":"06-map.js","original":{"line":26,"column":35},"generated":{"line":1,"column":873}},{"source":"06-map.js","original":{"line":26,"column":35},"generated":{"line":1,"column":875}},{"source":"06-map.js","original":{"line":26,"column":35},"generated":{"line":1,"column":877}},{"source":"06-map.js","name":"json","original":{"line":26,"column":16},"generated":{"line":1,"column":880}},{"source":"06-map.js","original":{"line":26,"column":35},"generated":{"line":1,"column":882}},{"source":"06-map.js","original":{"line":26,"column":35},"generated":{"line":1,"column":884}},{"source":"06-map.js","name":"datapoints","original":{"line":26,"column":22},"generated":{"line":1,"column":887}},{"source":"06-map.js","original":{"line":26,"column":35},"generated":{"line":1,"column":889}},{"source":"06-map.js","original":{"line":26,"column":35},"generated":{"line":1,"column":891}},{"source":"06-map.js","name":"log","original":{"line":27,"column":10},"generated":{"line":1,"column":894}},{"source":"06-map.js","name":"log","original":{"line":27,"column":10},"generated":{"line":1,"column":902}},{"source":"06-map.js","name":"json","original":{"line":27,"column":14},"generated":{"line":1,"column":906}},{"source":"06-map.js","name":"objects","original":{"line":27,"column":19},"generated":{"line":1,"column":908}},{"source":"06-map.js","name":"states","original":{"line":28,"column":6},"generated":{"line":1,"column":917}},{"source":"06-map.js","name":"states","original":{"line":28,"column":6},"generated":{"line":1,"column":921}},{"source":"06-map.js","name":"topojson","original":{"line":28,"column":15},"generated":{"line":1,"column":923}},{"source":"06-map.js","name":"feature","original":{"line":28,"column":24},"generated":{"line":1,"column":925}},{"source":"06-map.js","name":"json","original":{"line":28,"column":32},"generated":{"line":1,"column":933}},{"source":"06-map.js","name":"json","original":{"line":28,"column":38},"generated":{"line":1,"column":935}},{"source":"06-map.js","name":"objects","original":{"line":28,"column":43},"generated":{"line":1,"column":937}},{"source":"06-map.js","name":"us_states","original":{"line":28,"column":51},"generated":{"line":1,"column":945}},{"source":"06-map.js","name":"fitSize","original":{"line":30,"column":13},"generated":{"line":1,"column":956}},{"source":"06-map.js","name":"fitSize","original":{"line":30,"column":13},"generated":{"line":1,"column":958}},{"source":"06-map.js","original":{"line":30,"column":21},"generated":{"line":1,"column":966}},{"source":"06-map.js","name":"width","original":{"line":30,"column":22},"generated":{"line":1,"column":967}},{"source":"06-map.js","name":"height","original":{"line":30,"column":29},"generated":{"line":1,"column":969}},{"source":"06-map.js","name":"states","original":{"line":30,"column":38},"generated":{"line":1,"column":972}},{"source":"06-map.js","name":"outputs","original":{"line":34,"column":6},"generated":{"line":1,"column":975}},{"source":"06-map.js","name":"outputs","original":{"line":34,"column":6},"generated":{"line":1,"column":979}},{"source":"06-map.js","name":"datapoints","original":{"line":34,"column":16},"generated":{"line":1,"column":981}},{"source":"06-map.js","name":"map","original":{"line":34,"column":27},"generated":{"line":1,"column":983}},{"source":"06-map.js","original":{"line":34,"column":31},"generated":{"line":1,"column":987}},{"source":"06-map.js","name":"d","original":{"line":34,"column":40},"generated":{"line":1,"column":996}},{"source":"06-map.js","original":{"line":35,"column":11},"generated":{"line":1,"column":999}},{"source":"06-map.js","name":"d","original":{"line":35,"column":12},"generated":{"line":1,"column":1006}},{"source":"06-map.js","name":"Total_MW","original":{"line":35,"column":14},"generated":{"line":1,"column":1008}},{"source":"06-map.js","name":"maxOutput","original":{"line":38,"column":6},"generated":{"line":1,"column":1019}},{"source":"06-map.js","name":"d3","original":{"line":38,"column":18},"generated":{"line":1,"column":1021}},{"source":"06-map.js","name":"max","original":{"line":38,"column":21},"generated":{"line":1,"column":1023}},{"source":"06-map.js","name":"outputs","original":{"line":38,"column":25},"generated":{"line":1,"column":1027}},{"source":"06-map.js","name":"minOutput","original":{"line":39,"column":6},"generated":{"line":1,"column":1030}},{"source":"06-map.js","name":"d3","original":{"line":39,"column":18},"generated":{"line":1,"column":1032}},{"source":"06-map.js","name":"min","original":{"line":39,"column":21},"generated":{"line":1,"column":1034}},{"source":"06-map.js","name":"outputs","original":{"line":39,"column":25},"generated":{"line":1,"column":1038}},{"source":"06-map.js","name":"domain","original":{"line":41,"column":14},"generated":{"line":1,"column":1041}},{"source":"06-map.js","name":"domain","original":{"line":41,"column":14},"generated":{"line":1,"column":1043}},{"source":"06-map.js","original":{"line":41,"column":21},"generated":{"line":1,"column":1050}},{"source":"06-map.js","name":"minOutput","original":{"line":41,"column":22},"generated":{"line":1,"column":1051}},{"source":"06-map.js","name":"maxOutput","original":{"line":41,"column":33},"generated":{"line":1,"column":1053}},{"source":"06-map.js","name":"nested","original":{"line":43,"column":6},"generated":{"line":1,"column":1057}},{"source":"06-map.js","name":"nested","original":{"line":43,"column":6},"generated":{"line":1,"column":1061}},{"source":"06-map.js","name":"d3","original":{"line":43,"column":15},"generated":{"line":1,"column":1063}},{"source":"06-map.js","name":"nest","original":{"line":44,"column":5},"generated":{"line":1,"column":1065}},{"source":"06-map.js","name":"key","original":{"line":45,"column":5},"generated":{"line":1,"column":1072}},{"source":"06-map.js","original":{"line":45,"column":9},"generated":{"line":1,"column":1076}},{"source":"06-map.js","original":{"line":45,"column":9},"generated":{"line":1,"column":1085}},{"source":"06-map.js","name":"d","original":{"line":45,"column":14},"generated":{"line":1,"column":1088}},{"source":"06-map.js","name":"d","original":{"line":45,"column":14},"generated":{"line":1,"column":1095}},{"source":"06-map.js","name":"PrimSource","original":{"line":45,"column":16},"generated":{"line":1,"column":1097}},{"source":"06-map.js","name":"entries","original":{"line":46,"column":5},"generated":{"line":1,"column":1110}},{"source":"06-map.js","name":"datapoints","original":{"line":46,"column":13},"generated":{"line":1,"column":1118}},{"source":"06-map.js","name":"log","original":{"line":48,"column":10},"generated":{"line":1,"column":1121}},{"source":"06-map.js","name":"log","original":{"line":48,"column":10},"generated":{"line":1,"column":1129}},{"source":"06-map.js","original":{"line":48,"column":14},"generated":{"line":1,"column":1133}},{"source":"06-map.js","name":"nested","original":{"line":48,"column":24},"generated":{"line":1,"column":1142}},{"source":"06-map.js","name":"selectAll","original":{"line":51,"column":5},"generated":{"line":1,"column":1145}},{"source":"06-map.js","name":"selectAll","original":{"line":51,"column":5},"generated":{"line":1,"column":1147}},{"source":"06-map.js","original":{"line":51,"column":15},"generated":{"line":1,"column":1157}},{"source":"06-map.js","name":"data","original":{"line":52,"column":5},"generated":{"line":1,"column":1167}},{"source":"06-map.js","name":"nested","original":{"line":52,"column":10},"generated":{"line":1,"column":1172}},{"source":"06-map.js","name":"enter","original":{"line":53,"column":5},"generated":{"line":1,"column":1175}},{"source":"06-map.js","name":"append","original":{"line":54,"column":5},"generated":{"line":1,"column":1183}},{"source":"06-map.js","original":{"line":54,"column":12},"generated":{"line":1,"column":1190}},{"source":"06-map.js","name":"attr","original":{"line":55,"column":5},"generated":{"line":1,"column":1197}},{"source":"06-map.js","original":{"line":55,"column":10},"generated":{"line":1,"column":1202}},{"source":"06-map.js","original":{"line":55,"column":19},"generated":{"line":1,"column":1210}},{"source":"06-map.js","name":"attr","original":{"line":56,"column":5},"generated":{"line":1,"column":1219}},{"source":"06-map.js","original":{"line":56,"column":10},"generated":{"line":1,"column":1224}},{"source":"06-map.js","name":"height","original":{"line":56,"column":20},"generated":{"line":1,"column":1233}},{"source":"06-map.js","name":"margin","original":{"line":56,"column":29},"generated":{"line":1,"column":1235}},{"source":"06-map.js","name":"top","original":{"line":56,"column":36},"generated":{"line":1,"column":1237}},{"source":"06-map.js","name":"margin","original":{"line":56,"column":42},"generated":{"line":1,"column":1241}},{"source":"06-map.js","name":"bottom","original":{"line":56,"column":49},"generated":{"line":1,"column":1243}},{"source":"06-map.js","name":"attr","original":{"line":57,"column":5},"generated":{"line":1,"column":1251}},{"source":"06-map.js","original":{"line":57,"column":10},"generated":{"line":1,"column":1256}},{"source":"06-map.js","name":"width","original":{"line":57,"column":19},"generated":{"line":1,"column":1264}},{"source":"06-map.js","name":"margin","original":{"line":57,"column":27},"generated":{"line":1,"column":1266}},{"source":"06-map.js","name":"left","original":{"line":57,"column":34},"generated":{"line":1,"column":1268}},{"source":"06-map.js","name":"margin","original":{"line":57,"column":41},"generated":{"line":1,"column":1273}},{"source":"06-map.js","name":"right","original":{"line":57,"column":48},"generated":{"line":1,"column":1275}},{"source":"06-map.js","name":"each","original":{"line":61,"column":5},"generated":{"line":1,"column":1282}},{"source":"06-map.js","original":{"line":61,"column":10},"generated":{"line":1,"column":1287}},{"source":"06-map.js","name":"d","original":{"line":61,"column":19},"generated":{"line":1,"column":1296}},{"source":"06-map.js","name":"holder","original":{"line":62,"column":10},"generated":{"line":1,"column":1299}},{"source":"06-map.js","name":"holder","original":{"line":62,"column":10},"generated":{"line":1,"column":1303}},{"source":"06-map.js","name":"d3","original":{"line":62,"column":19},"generated":{"line":1,"column":1305}},{"source":"06-map.js","name":"select","original":{"line":62,"column":22},"generated":{"line":1,"column":1307}},{"source":"06-map.js","original":{"line":62,"column":29},"generated":{"line":1,"column":1314}},{"source":"06-map.js","name":"selectAll","original":{"line":65,"column":9},"generated":{"line":1,"column":1320}},{"source":"06-map.js","name":"selectAll","original":{"line":65,"column":9},"generated":{"line":1,"column":1322}},{"source":"06-map.js","original":{"line":65,"column":19},"generated":{"line":1,"column":1332}},{"source":"06-map.js","name":"data","original":{"line":66,"column":9},"generated":{"line":1,"column":1342}},{"source":"06-map.js","name":"states","original":{"line":66,"column":14},"generated":{"line":1,"column":1347}},{"source":"06-map.js","name":"features","original":{"line":66,"column":21},"generated":{"line":1,"column":1349}},{"source":"06-map.js","name":"enter","original":{"line":67,"column":9},"generated":{"line":1,"column":1359}},{"source":"06-map.js","name":"append","original":{"line":68,"column":9},"generated":{"line":1,"column":1367}},{"source":"06-map.js","original":{"line":68,"column":16},"generated":{"line":1,"column":1374}},{"source":"06-map.js","name":"attr","original":{"line":69,"column":9},"generated":{"line":1,"column":1382}},{"source":"06-map.js","original":{"line":69,"column":14},"generated":{"line":1,"column":1387}},{"source":"06-map.js","original":{"line":69,"column":23},"generated":{"line":1,"column":1395}},{"source":"06-map.js","name":"attr","original":{"line":70,"column":9},"generated":{"line":1,"column":1404}},{"source":"06-map.js","original":{"line":70,"column":14},"generated":{"line":1,"column":1409}},{"source":"06-map.js","name":"path","original":{"line":70,"column":19},"generated":{"line":1,"column":1413}},{"source":"06-map.js","name":"attr","original":{"line":71,"column":9},"generated":{"line":1,"column":1416}},{"source":"06-map.js","original":{"line":71,"column":14},"generated":{"line":1,"column":1421}},{"source":"06-map.js","original":{"line":71,"column":22},"generated":{"line":1,"column":1428}},{"source":"06-map.js","name":"selectAll","original":{"line":74,"column":9},"generated":{"line":1,"column":1441}},{"source":"06-map.js","name":"selectAll","original":{"line":74,"column":9},"generated":{"line":1,"column":1443}},{"source":"06-map.js","original":{"line":74,"column":19},"generated":{"line":1,"column":1453}},{"source":"06-map.js","name":"data","original":{"line":75,"column":9},"generated":{"line":1,"column":1468}},{"source":"06-map.js","name":"d","original":{"line":75,"column":14},"generated":{"line":1,"column":1473}},{"source":"06-map.js","name":"values","original":{"line":75,"column":16},"generated":{"line":1,"column":1475}},{"source":"06-map.js","name":"enter","original":{"line":76,"column":9},"generated":{"line":1,"column":1483}},{"source":"06-map.js","name":"append","original":{"line":77,"column":9},"generated":{"line":1,"column":1491}},{"source":"06-map.js","original":{"line":77,"column":16},"generated":{"line":1,"column":1498}},{"source":"06-map.js","name":"attr","original":{"line":78,"column":9},"generated":{"line":1,"column":1508}},{"source":"06-map.js","original":{"line":78,"column":14},"generated":{"line":1,"column":1513}},{"source":"06-map.js","original":{"line":78,"column":23},"generated":{"line":1,"column":1521}},{"source":"06-map.js","name":"attr","original":{"line":79,"column":9},"generated":{"line":1,"column":1535}},{"source":"06-map.js","original":{"line":79,"column":14},"generated":{"line":1,"column":1540}},{"source":"06-map.js","original":{"line":79,"column":19},"generated":{"line":1,"column":1544}},{"source":"06-map.js","original":{"line":79,"column":19},"generated":{"line":1,"column":1553}},{"source":"06-map.js","name":"radiusScale","original":{"line":79,"column":24},"generated":{"line":1,"column":1556}},{"source":"06-map.js","name":"radiusScale","original":{"line":79,"column":24},"generated":{"line":1,"column":1563}},{"source":"06-map.js","name":"d","original":{"line":79,"column":36},"generated":{"line":1,"column":1565}},{"source":"06-map.js","name":"Total_MW","original":{"line":79,"column":38},"generated":{"line":1,"column":1567}},{"source":"06-map.js","name":"attr","original":{"line":80,"column":9},"generated":{"line":1,"column":1579}},{"source":"06-map.js","original":{"line":80,"column":14},"generated":{"line":1,"column":1584}},{"source":"06-map.js","original":{"line":80,"column":27},"generated":{"line":1,"column":1596}},{"source":"06-map.js","original":{"line":80,"column":32},"generated":{"line":1,"column":1605}},{"source":"06-map.js","name":"coords","original":{"line":82,"column":30},"generated":{"line":1,"column":1608}},{"source":"06-map.js","name":"coords","original":{"line":82,"column":30},"generated":{"line":1,"column":1614}},{"source":"06-map.js","name":"projection","original":{"line":81,"column":23},"generated":{"line":1,"column":1627}},{"source":"06-map.js","original":{"line":81,"column":34},"generated":{"line":1,"column":1629}},{"source":"06-map.js","name":"d","original":{"line":81,"column":35},"generated":{"line":1,"column":1630}},{"source":"06-map.js","name":"Longitude","original":{"line":81,"column":37},"generated":{"line":1,"column":1632}},{"source":"06-map.js","name":"d","original":{"line":81,"column":48},"generated":{"line":1,"column":1642}},{"source":"06-map.js","name":"Latitude","original":{"line":81,"column":50},"generated":{"line":1,"column":1644}},{"source":"06-map.js","original":{"line":82,"column":10},"generated":{"line":1,"column":1655}},{"source":"06-map.js","name":"attr","original":{"line":84,"column":9},"generated":{"line":1,"column":1661}},{"source":"06-map.js","original":{"line":84,"column":14},"generated":{"line":1,"column":1666}},{"source":"06-map.js","original":{"line":84,"column":22},"generated":{"line":1,"column":1673}},{"source":"06-map.js","original":{"line":84,"column":22},"generated":{"line":1,"column":1682}},{"source":"06-map.js","name":"colorScale","original":{"line":84,"column":27},"generated":{"line":1,"column":1685}},{"source":"06-map.js","name":"colorScale","original":{"line":84,"column":27},"generated":{"line":1,"column":1692}},{"source":"06-map.js","name":"d","original":{"line":84,"column":38},"generated":{"line":1,"column":1694}},{"source":"06-map.js","name":"PrimSource","original":{"line":84,"column":40},"generated":{"line":1,"column":1696}},{"source":"06-map.js","name":"attr","original":{"line":85,"column":9},"generated":{"line":1,"column":1710}},{"source":"06-map.js","original":{"line":85,"column":14},"generated":{"line":1,"column":1715}},{"source":"06-map.js","original":{"line":85,"column":25},"generated":{"line":1,"column":1725}},{"source":"06-map.js","name":"append","original":{"line":88,"column":9},"generated":{"line":1,"column":1729}},{"source":"06-map.js","name":"append","original":{"line":88,"column":9},"generated":{"line":1,"column":1731}},{"source":"06-map.js","original":{"line":88,"column":16},"generated":{"line":1,"column":1738}},{"source":"06-map.js","name":"datum","original":{"line":89,"column":9},"generated":{"line":1,"column":1746}},{"source":"06-map.js","name":"d","original":{"line":89,"column":15},"generated":{"line":1,"column":1752}},{"source":"06-map.js","name":"key","original":{"line":89,"column":17},"generated":{"line":1,"column":1754}},{"source":"06-map.js","name":"text","original":{"line":90,"column":9},"generated":{"line":1,"column":1759}},{"source":"06-map.js","original":{"line":90,"column":14},"generated":{"line":1,"column":1764}},{"source":"06-map.js","original":{"line":90,"column":14},"generated":{"line":1,"column":1773}},{"source":"06-map.js","name":"d","original":{"line":90,"column":19},"generated":{"line":1,"column":1776}},{"source":"06-map.js","name":"d","original":{"line":90,"column":19},"generated":{"line":1,"column":1783}},{"source":"06-map.js","name":"charAt","original":{"line":90,"column":21},"generated":{"line":1,"column":1785}},{"source":"06-map.js","original":{"line":90,"column":28},"generated":{"line":1,"column":1792}},{"source":"06-map.js","name":"toUpperCase","original":{"line":90,"column":31},"generated":{"line":1,"column":1795}},{"source":"06-map.js","name":"d","original":{"line":90,"column":47},"generated":{"line":1,"column":1809}},{"source":"06-map.js","name":"slice","original":{"line":90,"column":49},"generated":{"line":1,"column":1811}},{"source":"06-map.js","original":{"line":90,"column":55},"generated":{"line":1,"column":1817}},{"source":"06-map.js","name":"attr","original":{"line":91,"column":9},"generated":{"line":1,"column":1822}},{"source":"06-map.js","original":{"line":91,"column":14},"generated":{"line":1,"column":1827}},{"source":"06-map.js","name":"width","original":{"line":91,"column":19},"generated":{"line":1,"column":1831}},{"source":"06-map.js","original":{"line":91,"column":27},"generated":{"line":1,"column":1833}},{"source":"06-map.js","name":"attr","original":{"line":92,"column":9},"generated":{"line":1,"column":1836}},{"source":"06-map.js","original":{"line":92,"column":14},"generated":{"line":1,"column":1841}},{"source":"06-map.js","name":"height","original":{"line":92,"column":19},"generated":{"line":1,"column":1845}},{"source":"06-map.js","original":{"line":92,"column":28},"generated":{"line":1,"column":1847}},{"source":"06-map.js","name":"attr","original":{"line":93,"column":9},"generated":{"line":1,"column":1850}},{"source":"06-map.js","original":{"line":93,"column":14},"generated":{"line":1,"column":1855}},{"source":"06-map.js","original":{"line":93,"column":29},"generated":{"line":1,"column":1869}},{"source":"06-map.js","name":"Promise","original":{"line":19,"column":0},"generated":{"line":1,"column":1881}},{"source":"06-map.js","name":"all","original":{"line":19,"column":8},"generated":{"line":1,"column":1889}},{"source":"06-map.js","original":{"line":19,"column":12},"generated":{"line":1,"column":1893}},{"source":"06-map.js","name":"d3","original":{"line":20,"column":2},"generated":{"line":1,"column":1894}},{"source":"06-map.js","name":"json","original":{"line":20,"column":5},"generated":{"line":1,"column":1896}},{"source":"06-map.js","name":"require","original":{"line":20,"column":10},"generated":{"line":1,"column":1901}},{"source":"06-map.js","original":{"line":20,"column":18},"generated":{"line":1,"column":1909}},{"source":"06-map.js","name":"d3","original":{"line":21,"column":2},"generated":{"line":1,"column":1939}},{"source":"06-map.js","name":"csv","original":{"line":21,"column":5},"generated":{"line":1,"column":1941}},{"source":"06-map.js","name":"require","original":{"line":21,"column":9},"generated":{"line":1,"column":1945}},{"source":"06-map.js","original":{"line":21,"column":17},"generated":{"line":1,"column":1953}},{"source":"06-map.js","name":"then","original":{"line":23,"column":3},"generated":{"line":1,"column":1982}},{"source":"06-map.js","name":"ready","original":{"line":23,"column":8},"generated":{"line":1,"column":1987}},{"source":"06-map.js","name":"catch","original":{"line":24,"column":3},"generated":{"line":1,"column":1990}},{"source":"06-map.js","original":{"line":24,"column":9},"generated":{"line":1,"column":1996}},{"source":"06-map.js","original":{"line":24,"column":9},"generated":{"line":1,"column":2005}},{"source":"06-map.js","name":"console","original":{"line":24,"column":16},"generated":{"line":1,"column":2008}},{"source":"06-map.js","name":"console","original":{"line":24,"column":16},"generated":{"line":1,"column":2015}},{"source":"06-map.js","name":"log","original":{"line":24,"column":24},"generated":{"line":1,"column":2023}},{"source":"06-map.js","original":{"line":24,"column":28},"generated":{"line":1,"column":2027}},{"source":"06-map.js","name":"err","original":{"line":24,"column":41},"generated":{"line":1,"column":2039}}],"sources":{"06-map.js":"import * as d3 from 'd3'\nimport * as topojson from 'topojson'\n\nlet margin = { top: 0, left: 0, right: 0, bottom: 0 }\n\nlet height = 300 - margin.top - margin.bottom\nlet width = 330 - margin.left - margin.right\n\nlet container = d3.select('#chart-6')\n\nlet projection = d3.geoAlbersUsa()\n\nlet path = d3.geoPath().projection(projection)\n\nlet colorScale = d3.scaleOrdinal(d3.schemeDark2)\n\nlet radiusScale = d3.scaleSqrt().range([0, 15])\n\nPromise.all([\n  d3.json(require('./data/us_states.topojson')),\n  d3.csv(require('./data/powerplants.csv'))\n])\n  .then(ready)\n  .catch(err => console.log('Failed on', err))\n\nfunction ready([json, datapoints]) {\n  console.log(json.objects) // find out what all the layers are called\n  let states = topojson.feature(json, json.objects.us_states)\n\n  projection.fitSize([width, height], states)\n\n  // sizing the points based on minimum and maximum output\n\n  var outputs = datapoints.map(function(d) {\n    return +d.Total_MW\n  })\n\n  var maxOutput = d3.max(outputs)\n  var minOutput = d3.min(outputs)\n\n  radiusScale.domain([minOutput, maxOutput])\n\n  var nested = d3\n    .nest()\n    .key(d => d.PrimSource)\n    .entries(datapoints)\n\n  console.log('nested', nested)\n\n  container\n    .selectAll('.usMap')\n    .data(nested)\n    .enter()\n    .append('svg')\n    .attr('class', 'usMap')\n    .attr('height', height + margin.top + margin.bottom)\n    .attr('width', width + margin.left + margin.right)\n    // .attr('transform', function(d) {\n    //   return `translate(${xPositionScale(d.key)}, 200)`\n    // })\n    .each(function(d) {\n      let holder = d3.select(this)\n\n      holder\n        .selectAll('.state')\n        .data(states.features)\n        .enter()\n        .append('path')\n        .attr('class', 'state')\n        .attr('d', path)\n        .attr('fill', 'lightgrey')\n\n      holder\n        .selectAll('.powerplant')\n        .data(d.values)\n        .enter()\n        .append('circle')\n        .attr('class', 'powerplant')\n        .attr('r', d => radiusScale(d.Total_MW))\n        .attr('transform', d => {\n          let coords = projection([d.Longitude, d.Latitude])\n          return `translate(${coords})`\n        })\n        .attr('fill', d => colorScale(d.PrimSource))\n        .attr('opacity', 0.3)\n\n      holder\n        .append('text')\n        .datum(d.key)\n        .text(d => d.charAt(0).toUpperCase() + d.slice(1))\n        .attr('x', width / 2)\n        .attr('y', height / 2)\n        .attr('text-anchor', 'middle')\n    })\n}\n"},"lineCount":null}},"hash":"6fc7d871efb2bfc303557eaf4119d856","cacheData":{"env":{}}}